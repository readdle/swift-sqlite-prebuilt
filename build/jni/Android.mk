LOCAL_PATH:= $(call my-dir)

include $(CLEAR_VARS)
LOCAL_MODULE    := icuuc
LOCAL_SRC_FILES += $(SWIFT_LIB)/android/libscuuc.so
LOCAL_EXPORT_C_INCLUDES += $(SWIFT_LIB)
include $(PREBUILT_SHARED_LIBRARY)

include $(CLEAR_VARS)
LOCAL_MODULE    := icudata
LOCAL_SRC_FILES += $(SWIFT_LIB)/android/libscudata.so
LOCAL_EXPORT_C_INCLUDES += $(SWIFT_LIB)
include $(PREBUILT_SHARED_LIBRARY)

include $(CLEAR_VARS)
LOCAL_MODULE    := icui18n
LOCAL_SRC_FILES += $(SWIFT_LIB)/android/libscui18n.so
LOCAL_EXPORT_C_INCLUDES += $(SWIFT_LIB)
include $(PREBUILT_SHARED_LIBRARY)

include $(CLEAR_VARS)
LOCAL_MODULE     := sqlite3
LOCAL_C_INCLUDES += $(LOCAL_PATH)/../sqlite-amalgamation
LOCAL_CFLAGS += -DHAVE_USLEEP=1
LOCAL_CFLAGS += -DSQLITE_ENABLE_API_ARMOR=1 
LOCAL_CFLAGS += -DSQLITE_ENABLE_ATOMIC_WRITE=1 
LOCAL_CFLAGS += -DSQLITE_ENABLE_COLUMN_METADATA=1 
LOCAL_CFLAGS += -DSQLITE_ENABLE_LOCKING_STYLE=0 
LOCAL_CFLAGS += -DSQLITE_ENABLE_FTS5=1 
LOCAL_CFLAGS += -DSQLITE_ENABLE_ICU=1
LOCAL_CFLAGS += -DSQLITE_ENABLE_RTREE=1
LOCAL_CFLAGS += -DSQLITE_ENABLE_UNLOCK_NOTIFY=1
LOCAL_SHARED_LIBRARIES = icudata icui18n icuuc
LOCAL_SRC_FILES  := ../sqlite-amalgamation/sqlite3.c
include $(BUILD_SHARED_LIBRARY)